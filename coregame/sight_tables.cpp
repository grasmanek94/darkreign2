///////////////////////////////////////////////////////////////////////////////
//
// Copyright 1997-1999 Pandemic Studios, Dark Reign II
//
// Line Of Sight System
//
// 24-NOV-1998
//


#include "sight_tables.h"


///////////////////////////////////////////////////////////////////////////////
//
// Namespace Sight - The line of sight system
//
namespace Sight
{

  //
  // Traversal info tables
  //
  //TravInfo posYTravInfo[MAXR][MAXR] = 
  TravArray posYTravInfo = 
  {
   { {   0, 1}, {   1, 2}, {   3, 2}, {   5, 2}, {   7, 2},
     {   9, 2}, {  11, 2}, {  13, 2}, {  15, 2}, {  17, 2},
     {  19, 2}, {  21, 2}, {  23, 2}, {  25, 2}, {  27, 2},
     {  29, 2}, {  31, 2}, {  33, 2}, {  35, 2}, {  37, 2} },
   { {  39, 2}, {  41, 2}, {  43, 2}, {  45, 2}, {  47, 2},
     {  49, 5}, {  54, 2}, {  56, 6}, {  62, 2}, {  64, 7},
     {  71, 2}, {  73, 8}, {  81, 2}, {  83, 9}, {  92, 2},
     {  94,10}, { 104, 2}, { 106,11}, { 117, 2}, { 119,12} },
   { { 131, 2}, { 133, 2}, { 135, 2}, { 137, 2}, { 139, 2},
     { 141, 4}, { 145, 4}, { 149, 4}, { 153, 2}, { 155, 5},
     { 160, 5}, { 165, 6}, { 171, 2}, { 173, 6}, { 179, 7},
     { 186, 8}, { 194, 2}, { 196, 8}, { 204, 9}, { 213,10} },
   { { 223, 2}, { 225, 2}, { 227, 2}, { 229, 2}, { 231, 2},
     { 233, 3}, { 236, 2}, { 238, 6}, { 244, 4}, { 248, 4},
     { 252, 5}, { 257, 4}, { 261, 2}, { 263, 5}, { 268, 6},
     { 274, 6}, { 280, 7}, { 287, 6}, { 293, 2}, { 295, 7} },
   { { 302, 2}, { 304, 2}, { 306, 2}, { 308, 2}, { 310, 2},
     { 312, 2}, { 314, 3}, { 317, 3}, { 320, 2}, { 322, 8},
     { 330, 6}, { 336, 9}, { 345, 4}, { 349, 4}, { 353, 8},
     { 361, 4}, { 365, 2}, { 367, 5}, { 372, 5}, { 377,10} },
   { { 387, 2}, { 389, 5}, { 394, 4}, { 398, 3}, { 401, 2},
     { 403, 2}, { 405, 2}, { 407, 3}, { 410, 3}, { 413, 3},
     { 416, 2}, { 418,10}, { 428, 6}, { 434, 6}, { 440, 4},
     { 444, 4}, { 448, 8}, { 456,11}, { 467, 5}, { 472, 4} },
   { { 476, 2}, { 478, 2}, { 480, 4}, { 484, 2}, { 486, 3},
     { 489, 2}, { 491, 2}, { 493, 2}, { 495, 3}, { 498, 6},
     { 504, 8}, { 512, 3}, { 515, 2}, { 517,12}, { 529, 8},
     { 537, 6}, { 543, 4}, { 547,12}, { 559, 4}, { 563, 4} },
   { { 567, 2}, { 569, 6}, { 575, 4}, { 579, 6}, { 585, 3},
     { 588, 3}, { 591, 2}, { 593, 2}, { 595, 2}, { 597, 4},
     { 601, 6}, { 607, 6}, { 613, 3}, { 616, 3}, { 619, 2},
     { 621,14}, { 635, 8}, { 643,13}, { 656, 9}, { 665, 9} },
   { { 674, 2}, { 676, 2}, { 678, 2}, { 680, 4}, { 684, 2},
     { 686, 3}, { 689, 3}, { 692, 2}, { 694, 2}, { 696, 2},
     { 698, 4}, { 702, 7}, { 709, 9}, { 718,11}, { 729,10},
     { 739, 3}, { 742, 2}, { 744,16}, { 760,10}, { 770, 8} },
   { { 778, 2}, { 780, 7}, { 787, 5}, { 792, 4}, { 796, 8},
     { 804, 3}, { 807, 6}, { 813, 4}, { 817, 2}, { 819, 2},
     { 821, 2}, { 823, 4}, { 827, 7}, { 834,10}, { 844, 6},
     { 850,13}, { 863, 3}, { 866, 3}, { 869, 2}, { 871,18} },
   { { 889, 2}, { 891, 2}, { 893, 5}, { 898, 5}, { 903, 6},
     { 909, 2}, { 911, 8}, { 919, 6}, { 925, 4}, { 929, 2},
     { 931, 2}, { 933, 2}, { 935, 4}, { 939, 8}, { 947,10},
     { 957,12}, { 969,11}, { 980, 8}, { 988,12}, {1000, 3} },
   { {1003, 2}, {1005, 8}, {1013, 6}, {1019, 4}, {1023, 9},
     {1032,10}, {1042, 3}, {1045, 6}, {1051, 7}, {1058, 4},
     {1062, 2}, {1064, 2}, {1066, 2}, {1068, 5}, {1073, 8},
     {1081,11}, {1092,13}, {1105, 9}, {1114,16}, {1130,15} },
   { {1145, 2}, {1147, 2}, {1149, 2}, {1151, 2}, {1153, 4},
     {1157, 6}, {1163, 2}, {1165, 3}, {1168, 9}, {1177, 7},
     {1184, 4}, {1188, 2}, {1190, 2}, {1192, 2}, {1194, 5},
     {1199, 9}, {1208,11}, {1219,13}, {1232,15}, {1247,14} },
   { {1261, 2}, {1263, 9}, {1272, 6}, {1278, 5}, {1283, 4},
     {1287, 6}, {1293,12}, {1305, 3}, {1308,11}, {1319,10},
     {1329, 8}, {1337, 5}, {1342, 2}, {1344, 2}, {1346, 2},
     {1348, 5}, {1353, 9}, {1362,12}, {1374,14}, {1388,16} },
   { {1404, 2}, {1406, 2}, {1408, 7}, {1415, 6}, {1421, 8},
     {1429, 4}, {1433, 8}, {1441, 2}, {1443,10}, {1453, 6},
     {1459,10}, {1469, 8}, {1477, 5}, {1482, 2}, {1484, 2},
     {1486, 2}, {1488, 5}, {1493,10}, {1503,13}, {1516,15} },
   { {1531, 2}, {1533,10}, {1543, 8}, {1551, 6}, {1557, 4},
     {1561, 4}, {1565, 6}, {1571,14}, {1585, 3}, {1588,13},
     {1601,12}, {1613,11}, {1624, 9}, {1633, 5}, {1638, 2},
     {1640, 2}, {1642, 2}, {1644, 6}, {1650,10}, {1660,13} },
   { {1673, 2}, {1675, 2}, {1677, 2}, {1679, 7}, {1686, 2},
     {1688, 8}, {1696, 4}, {1700, 8}, {1708, 2}, {1710, 3},
     {1713,11}, {1724,13}, {1737,11}, {1748, 9}, {1757, 5},
     {1762, 2}, {1764, 2}, {1766, 2}, {1768, 6}, {1774,11} },
   { {1785, 2}, {1787,11}, {1798, 8}, {1806, 6}, {1812, 5},
     {1817,11}, {1828,12}, {1840,13}, {1853,16}, {1869, 3},
     {1872, 8}, {1880, 9}, {1889,13}, {1902,12}, {1914,10},
     {1924, 6}, {1930, 2}, {1932, 2}, {1934, 2}, {1936, 6} },
   { {1942, 2}, {1944, 2}, {1946, 9}, {1955, 2}, {1957, 5},
     {1962, 5}, {1967, 4}, {1971, 9}, {1980,10}, {1990, 2},
     {1992,12}, {2004,16}, {2020,15}, {2035,14}, {2049,13},
     {2062,10}, {2072, 6}, {2078, 2}, {2080, 2}, {2082, 2} },
   { {2084, 2}, {2086,12}, {2098,10}, {2108, 7}, {2115,10},
     {2125, 4}, {2129, 4}, {2133, 9}, {2142, 8}, {2150,18},
     {2168, 3}, {2171,15}, {2186,14}, {2200,16}, {2216,15},
     {2231,13}, {2244,11}, {2255, 6}, {2261, 2}, {2263, 2} }
  };


  U16 posYTravHeap[2265] =
  {
       0,    0,    1,    1,    2,    2,    3,    3,    4,    4,    5,    5,
       6,    6,    7,    7,    8,    8,    9,    9,   10,   10,   11,   11,
      12,   12,   13,   13,   14,   14,   15,   15,   16,   16,   17,   17,
      18,   18,   19,    0,   20,    0,   21,   21,   22,   22,   23,   23,
      24,    1,   22,   23,   24,   25,   25,   26,    2,   23,   24,   25,
      26,   27,   27,   28,    3,   24,   25,   26,   27,   28,   29,   29,
      30,    4,   25,   26,   27,   28,   29,   30,   31,   31,   32,    5,
      26,   27,   28,   29,   30,   31,   32,   33,   33,   34,    6,   27,
      28,   29,   30,   31,   32,   33,   34,   35,   35,   36,    7,   28,
      29,   30,   31,   32,   33,   34,   35,   36,   37,   37,   38,    8,
      29,   30,   31,   32,   33,   34,   35,   36,   37,   38,   39,   20,
      40,   21,   41,   21,   42,   42,   43,   43,   44,   22,   43,   44,
      45,   23,   44,   45,   46,   24,   45,   46,   47,   47,   48,   25,
      46,   47,   48,   49,   26,   47,   48,   49,   50,   26,   27,   48,
      49,   50,   51,   51,   52,   28,   49,   50,   51,   52,   53,   28,
      29,   50,   51,   52,   53,   54,   28,   29,   30,   51,   52,   53,
      54,   55,   55,   56,   30,   31,   52,   53,   54,   55,   56,   57,
      30,   31,   32,   53,   54,   55,   56,   57,   58,   30,   31,   32,
      33,   54,   55,   56,   57,   58,   59,   40,   60,   41,   61,   42,
      62,   42,   63,   63,   64,   43,   64,   65,   65,   66,   22,   43,
      44,   65,   66,   67,   45,   66,   67,   68,   46,   67,   68,   69,
      46,   47,   68,   69,   70,   48,   69,   70,   71,   71,   72,   49,
      70,   71,   72,   73,   49,   50,   71,   72,   73,   74,   50,   51,
      72,   73,   74,   75,   50,   51,   52,   73,   74,   75,   76,   52,
      53,   74,   75,   76,   77,   77,   78,   53,   54,   75,   76,   77,
      78,   79,   60,   80,   61,   81,   62,   82,   63,   83,   63,   84,
      84,   85,   64,   85,   86,   65,   86,   87,   87,   88,   22,   43,
      44,   65,   66,   87,   88,   89,   45,   66,   67,   88,   89,   90,
      23,   44,   45,   66,   67,   68,   89,   90,   91,   69,   90,   91,
      92,   70,   91,   92,   93,   47,   68,   69,   70,   71,   92,   93,
      94,   72,   93,   94,   95,   95,   96,   73,   94,   95,   96,   97,
      74,   95,   96,   97,   98,   50,   71,   72,   73,   74,   75,   96,
      97,   98,   99,   80,  100,   20,   41,   61,   81,  101,   41,   62,
      82,  102,   62,   83,  103,   84,  104,   84,  105,  105,  106,   85,
     106,  107,   86,  107,  108,   87,  108,  109,  109,  110,   22,   43,
      44,   65,   66,   87,   88,  109,  110,  111,   67,   88,   89,  110,
     111,  112,   68,   89,   90,  111,  112,  113,   91,  112,  113,  114,
      92,  113,  114,  115,   69,   70,   91,   92,   93,  114,  115,  116,
      47,   68,   69,   70,   91,   92,   93,   94,  115,  116,  117,   94,
      95,  116,  117,  118,   96,  117,  118,  119,  100,  120,  101,  121,
      61,   82,  102,  122,  103,  123,   83,  104,  124,  105,  125,  105,
     126,  126,  127,  106,  127,  128,   64,   85,  106,  107,  128,  129,
      43,   64,   85,   86,  107,  108,  129,  130,  109,  130,  131,  131,
     132,   22,   43,   44,   65,   66,   87,   88,  109,  110,  131,  132,
     133,   67,   88,   89,  110,  111,  132,  133,  134,   90,  111,  112,
     133,  134,  135,  113,  134,  135,  136,   46,   67,   68,   89,   90,
      91,  112,  113,  114,  135,  136,  137,  115,  136,  137,  138,  116,
     137,  138,  139,  120,  140,   40,   61,   81,  101,  121,  141,   81,
     102,  122,  142,   41,   62,   82,  103,  123,  143,  103,  124,  144,
     104,  125,  145,  126,  146,  126,  147,  147,  148,  106,  127,  148,
     149,   85,  106,  127,  128,  149,  150,   86,  107,  128,  129,  150,
     151,  130,  151,  152,  131,  152,  153,  153,  154,   22,   43,   44,
      65,   66,   87,   88,  109,  110,  131,  132,  153,  154,  155,   89,
     110,  111,  132,  133,  154,  155,  156,   45,   66,   67,   88,   89,
     110,  111,  112,  133,  134,  155,  156,  157,   90,  111,  112,  113,
     134,  135,  156,  157,  158,   91,  112,  113,  134,  135,  136,  157,
     158,  159,  140,  160,  141,  161,  142,  162,  102,  123,  143,  163,
     144,  164,  124,  145,  165,  125,  146,  166,  147,  167,  147,  168,
     168,  169,  127,  148,  169,  170,   85,  106,  127,  148,  149,  170,
     171,   64,   85,  106,  107,  128,  149,  150,  171,  172,   43,   64,
      85,   86,  107,  128,  129,  150,  151,  172,  173,   65,   86,  107,
     108,  129,  130,  151,  152,  173,  174,  153,  174,  175,  175,  176,
      22,   43,   44,   65,   66,   87,   88,  109,  110,  131,  132,  153,
     154,  175,  176,  177,   89,  110,  111,  132,  133,  154,  155,  176,
     177,  178,  112,  133,  134,  155,  156,  177,  178,  179,  160,  180,
      60,   81,  101,  121,  141,  161,  181,  101,  122,  142,  162,  182,
     122,  143,  163,  183,   41,   62,   82,  103,  123,  144,  164,  184,
     144,  165,  185,   83,  104,  125,  145,  166,  186,  125,  146,  167,
     187,  168,  188,  168,  189,  189,  190,  148,  169,  190,  191,  106,
     127,  148,  169,  170,  191,  192,   64,   85,  106,  127,  128,  149,
     170,  171,  192,  193,  129,  150,  171,  172,  193,  194,   43,   64,
      85,   86,  107,  108,  129,  150,  151,  172,  173,  194,  195,  174,
     195,  196,  175,  196,  197,  197,  198,   22,   43,   44,   65,   66,
      87,   88,  109,  110,  131,  132,  153,  154,  175,  176,  197,  198,
     199,  180,  200,  181,  201,  121,  142,  162,  182,  202,  122,  142,
     163,  183,  203,  102,  123,  143,  164,  184,  204,  185,  205,   62,
      83,  104,  124,  145,  165,  186,  206,  104,  125,  146,  166,  187,
     207,  146,  167,  188,  208,  189,  209,  189,  210,  210,  211,  169,
     190,  211,  212,  106,  127,  148,  169,  170,  191,  212,  213,   85,
     106,  127,  128,  149,  170,  191,  192,  213,  214,   64,   85,  106,
     107,  128,  149,  150,  171,  192,  193,  214,  215,   86,  107,  128,
     129,  150,  171,  172,  193,  194,  215,  216,  130,  151,  172,  173,
     194,  195,  216,  217,   87,  108,  129,  130,  151,  152,  173,  174,
     195,  196,  217,  218,  197,  218,  219,  200,  220,   80,  101,  121,
     141,  161,  181,  201,  221,  121,  141,  162,  182,  202,  222,  162,
     183,  203,  223,   61,   82,  102,  123,  143,  163,  184,  204,  224,
      41,   62,   82,  103,  123,  144,  164,  185,  205,  225,  185,  206,
     226,  124,  145,  166,  186,  207,  227,  104,  125,  146,  167,  187,
     208,  228,  167,  188,  209,  229,  210,  230,  210,  231,  231,  232,
     169,  190,  211,  232,  233,  127,  148,  169,  190,  191,  212,  233,
     234,   85,  106,  127,  148,  149,  170,  191,  212,  213,  234,  235,
      64,   85,  106,  127,  128,  149,  170,  171,  192,  213,  214,  235,
     236,  129,  150,  171,  172,  193,  214,  215,  236,  237,   43,   64,
      85,   86,  107,  128,  129,  150,  151,  172,  193,  194,  215,  216,
     237,  238,   65,   86,  107,  108,  129,  130,  151,  172,  173,  194,
     195,  216,  217,  238,  239,  220,  240,  221,  241,  222,  242,  223,
     243,  183,  204,  224,  244,  143,  164,  184,  205,  225,  245,  226,
     246,  206,  227,  247,   83,  104,  125,  145,  166,  187,  207,  228,
     248,  125,  146,  167,  188,  208,  229,  249,  188,  209,  230,  250,
     231,  251,  231,  252,  252,  253,  190,  211,  232,  253,  254,  127,
     148,  169,  190,  211,  212,  233,  254,  255,  106,  127,  148,  169,
     170,  191,  212,  233,  234,  255,  256,   85,  106,  127,  128,  149,
     170,  171,  192,  213,  234,  235,  256,  257,   64,   85,  106,  107,
     128,  149,  150,  171,  192,  193,  214,  235,  236,  257,  258,   86,
     107,  128,  129,  150,  171,  172,  193,  194,  215,  236,  237,  258,
     259,  240,  260,  100,  121,  141,  161,  181,  201,  221,  241,  261,
     161,  182,  202,  222,  242,  262,  182,  203,  223,  243,  263,  203,
     224,  244,  264,  163,  184,  204,  225,  245,  265,   41,   62,   82,
     103,  123,  144,  164,  185,  205,  226,  246,  266,  226,  247,  267,
      62,   83,  104,  124,  145,  166,  186,  207,  227,  248,  268,   83,
     104,  125,  146,  166,  187,  208,  228,  249,  269,  125,  146,  167,
     188,  208,  229,  250,  270,  188,  209,  230,  251,  271,  252,  272,
     252,  273,  273,  274,  211,  232,  253,  274,  275,  148,  169,  190,
     211,  232,  233,  254,  275,  276,  106,  127,  148,  169,  170,  191,
     212,  233,  234,  255,  276,  277,   85,  106,  127,  148,  149,  170,
     191,  192,  213,  234,  255,  256,  277,  278,   64,   85,  106,  107,
     128,  149,  170,  171,  192,  213,  214,  235,  256,  257,  278,  279,
     260,  280,  261,  281,  161,  181,  202,  222,  242,  262,  282,  182,
     202,  223,  243,  263,  283,  142,  163,  183,  203,  223,  244,  264,
     284,  224,  245,  265,  285,  143,  164,  184,  205,  225,  246,  266,
     286,  267,  287,  103,  124,  145,  165,  186,  206,  227,  247,  268,
     288,  186,  207,  228,  248,  269,  289,  104,  125,  146,  166,  187,
     208,  229,  249,  270,  290,  146,  167,  188,  209,  229,  250,  271,
     291,  209,  230,  251,  272,  292,  273,  293,  273,  294,  294,  295,
     232,  253,  274,  295,  296,  148,  169,  190,  211,  232,  253,  254,
     275,  296,  297,  106,  127,  148,  169,  190,  191,  212,  233,  254,
     255,  276,  297,  298,   85,  106,  127,  148,  149,  170,  191,  212,
     213,  234,  255,  276,  277,  298,  299,  280,  300,  120,  141,  161,
     181,  201,  221,  241,  261,  281,  301,  161,  181,  201,  222,  242,
     262,  282,  302,  202,  222,  243,  263,  283,  303,  243,  264,  284,
     304,  244,  265,  285,  305,  204,  225,  245,  266,  286,  306,   41,
      62,   82,  103,  123,  144,  164,  185,  205,  226,  246,  267,  287,
     307,  267,  288,  308,   62,   83,  104,  124,  145,  165,  186,  207,
     227,  248,  268,  289,  309,   83,  104,  125,  145,  166,  187,  207,
     228,  249,  269,  290,  310,  104,  125,  146,  167,  187,  208,  229,
     250,  270,  291,  311,  146,  167,  188,  209,  230,  250,  271,  292,
     312,  230,  251,  272,  293,  313,  294,  314,  294,  315,  315,  316,
     232,  253,  274,  295,  316,  317,  169,  190,  211,  232,  253,  274,
     275,  296,  317,  318,  127,  148,  169,  190,  191,  212,  233,  254,
     275,  276,  297,  318,  319,  300,  320,  301,  321,  302,  322,  202,
     222,  242,  263,  283,  303,  323,  304,  324,  183,  203,  224,  244,
     264,  285,  305,  325,  265,  286,  306,  326,  184,  205,  225,  246,
     266,  287,  307,  327,  308,  328,  288,  309,  329,  124,  145,  166,
     186,  207,  228,  248,  269,  289,  310,  330,   83,  104,  125,  146,
     166,  187,  208,  228,  249,  270,  290,  311,  331,  125,  146,  167,
     188,  208,  229,  250,  271,  291,  312,  332,  167,  188,  209,  230,
     251,  271,  292,  313,  333,  251,  272,  293,  314,  334,  315,  335,
     315,  336,  336,  337,  253,  274,  295,  316,  337,  338,  169,  190,
     211,  232,  253,  274,  275,  296,  317,  338,  339,  320,  340,  140,
     161,  181,  201,  221,  241,  261,  281,  301,  321,  341,  201,  221,
     242,  262,  282,  302,  322,  342,  242,  262,  283,  303,  323,  343,
     263,  284,  304,  324,  344,  142,  163,  183,  203,  224,  244,  264,
     284,  305,  325,  345,  122,  143,  163,  184,  204,  224,  245,  265,
     285,  306,  326,  346,  102,  123,  143,  164,  184,  205,  225,  245,
     266,  286,  307,  327,  347,   41,   62,   82,  103,  123,  144,  164,
     185,  205,  226,  246,  267,  287,  308,  328,  348,  308,  329,  349,
     206,  227,  248,  268,  289,  309,  330,  350,  186,  207,  228,  248,
     269,  290,  310,  331,  351,  104,  125,  146,  166,  187,  208,  228,
     249,  270,  291,  311,  332,  352,  125,  146,  167,  188,  208,  229,
     250,  271,  291,  312,  333,  353,  167,  188,  209,  230,  251,  272,
     292,  313,  334,  354,  251,  272,  293,  314,  335,  355,  336,  356,
     336,  357,  357,  358,  274,  295,  316,  337,  358,  359,  340,  360,
     341,  361,  201,  221,  241,  262,  282,  302,  322,  342,  362,  343,
     363,  283,  304,  324,  344,  364,  284,  304,  325,  345,  365,  305,
     326,  346,  366,  204,  225,  245,  265,  286,  306,  327,  347,  367,
     184,  205,  225,  246,  266,  287,  307,  328,  348,  368,  349,  369,
     144,  165,  186,  206,  227,  247,  268,  288,  309,  329,  350,  370,
      62,   83,  104,  124,  145,  166,  186,  207,  227,  248,  269,  289,
     310,  330,  351,  371,   83,  104,  125,  145,  166,  187,  207,  228,
     249,  269,  290,  311,  331,  352,  372,  104,  125,  146,  167,  187,
     208,  229,  249,  270,  291,  312,  332,  353,  373,  125,  146,  167,
     188,  209,  229,  250,  271,  292,  312,  333,  354,  374,  188,  209,
     230,  251,  272,  293,  313,  334,  355,  375,  272,  293,  314,  335,
     356,  376,  357,  377,  357,  378,  378,  379,  360,  380,  160,  181,
     201,  221,  241,  261,  281,  301,  321,  341,  361,  381,  201,  221,
     241,  261,  282,  302,  322,  342,  362,  382,  262,  282,  303,  323,
     343,  363,  383,  202,  223,  243,  263,  283,  303,  324,  344,  364,
     384,  324,  345,  365,  385,  325,  346,  366,  386,  224,  245,  265,
     286,  306,  326,  347,  367,  387,  245,  266,  286,  307,  327,  348,
     368,  388,   41,   62,   82,  103,  123,  144,  164,  185,  205,  226,
     246,  267,  287,  308,  328,  349,  369,  389,  349,  370,  390,  103,
     124,  145,  165,  186,  206,  227,  248,  268,  289,  309,  330,  350,
     371,  391,  124,  145,  166,  186,  207,  228,  248,  269,  289,  310,
     331,  351,  372,  392,   83,  104,  125,  145,  166,  187,  208,  228,
     249,  270,  290,  311,  332,  352,  373,  393,  104,  125,  146,  167,
     187,  208,  229,  250,  270,  291,  312,  333,  353,  374,  394,  146,
     167,  188,  209,  229,  250,  271,  292,  313,  333,  354,  375,  395,
     188,  209,  230,  251,  272,  293,  313,  334,  355,  376,  396,  293,
     314,  335,  356,  377,  397,  378,  398,  378,  399
  };


  //TravInfo negYTravInfo[MAXR][MAXR] =
  TravArray negYTravInfo = 
  {
   { {   0, 1}, {   1, 2}, {   3, 2}, {   5, 2}, {   7, 2},
     {   9, 2}, {  11, 2}, {  13, 2}, {  15, 2}, {  17, 2},
     {  19, 2}, {  21, 2}, {  23, 2}, {  25, 2}, {  27, 2},
     {  29, 2}, {  31, 2}, {  33, 2}, {  35, 2}, {  37, 2} },
   { {  39, 2}, {  41, 2}, {  43, 2}, {  45, 2}, {  47, 2},
     {  49, 2}, {  51, 3}, {  54, 2}, {  56, 4}, {  60, 2},
     {  62, 5}, {  67, 2}, {  69, 6}, {  75, 2}, {  77, 7},
     {  84, 2}, {  86, 8}, {  94, 2}, {  96, 9}, { 105, 2} },
   { { 107, 2}, { 109, 2}, { 111, 2}, { 113, 2}, { 115, 2},
     { 117, 3}, { 120, 4}, { 124, 5}, { 129, 4}, { 133, 2},
     { 135, 6}, { 141, 7}, { 148, 6}, { 154, 2}, { 156, 8},
     { 164, 9}, { 173, 8}, { 181, 2}, { 183,10}, { 193,11} },
   { { 204, 2}, { 206, 2}, { 208, 2}, { 210, 2}, { 212, 2},
     { 214, 4}, { 218, 2}, { 220, 3}, { 223, 3}, { 226, 4},
     { 230, 4}, { 234, 5}, { 239, 4}, { 243, 2}, { 245, 5},
     { 250, 6}, { 256, 6}, { 262, 7}, { 269, 6}, { 275, 2} },
   { { 277, 2}, { 279, 2}, { 281, 2}, { 283, 2}, { 285, 2},
     { 287, 2}, { 289, 2}, { 291, 6}, { 297, 2}, { 299, 3},
     { 302, 6}, { 308, 4}, { 312, 4}, { 316, 8}, { 324, 5},
     { 329, 5}, { 334, 4}, { 338, 2}, { 340,10}, { 350, 6} },
   { { 356, 2}, { 358, 2}, { 360, 3}, { 363, 4}, { 367, 2},
     { 369, 2}, { 371, 2}, { 373, 2}, { 375, 2}, { 377, 8},
     { 385, 2}, { 387, 3}, { 390, 3}, { 393, 9}, { 402, 6},
     { 408, 4}, { 412, 4}, { 416, 8}, { 424, 8}, { 432, 5} },
   { { 437, 2}, { 439, 3}, { 442, 4}, { 446, 2}, { 448, 2},
     { 450, 2}, { 452, 2}, { 454, 2}, { 456, 2}, { 458, 5},
     { 463, 4}, { 467,10}, { 477, 2}, { 479, 3}, { 482, 8},
     { 490, 6}, { 496, 6}, { 502, 4}, { 506, 4}, { 510,11} },
   { { 521, 2}, { 523, 2}, { 525, 5}, { 530, 3}, { 533, 6},
     { 539, 2}, { 541, 2}, { 543, 2}, { 545, 2}, { 547, 7},
     { 554, 2}, { 556, 7}, { 563, 4}, { 567,12}, { 579, 2},
     { 581, 3}, { 584, 3}, { 587, 6}, { 593, 6}, { 599, 4} },
   { { 603, 2}, { 605, 4}, { 609, 4}, { 613, 3}, { 616, 2},
     { 618, 2}, { 620, 2}, { 622, 2}, { 624, 2}, { 626, 2},
     { 628, 2}, { 630, 6}, { 636, 8}, { 644, 4}, { 648, 6},
     { 654,14}, { 668, 2}, { 670, 3}, { 673,10}, { 683,13} },
   { { 696, 2}, { 698, 2}, { 700, 2}, { 702, 4}, { 706, 3},
     { 709, 8}, { 717, 5}, { 722, 7}, { 729, 2}, { 731, 2},
     { 733, 2}, { 735, 2}, { 737, 2}, { 739, 5}, { 744,10},
     { 754, 9}, { 763, 6}, { 769,16}, { 785, 2}, { 787, 3} },
   { { 790, 2}, { 792, 5}, { 797, 6}, { 803, 4}, { 807, 6},
     { 813, 2}, { 815, 4}, { 819, 2}, { 821, 2}, { 823, 2},
     { 825, 2}, { 827, 2}, { 829, 2}, { 831,11}, { 842, 9},
     { 851,11}, { 862, 7}, { 869,11}, { 880, 8}, { 888,18} },
   { { 906, 2}, { 908, 2}, { 910, 7}, { 917, 5}, { 922, 4},
     { 926, 3}, { 929,10}, { 939, 7}, { 946, 6}, { 952, 2},
     { 954, 2}, { 956, 2}, { 958, 2}, { 960,10}, { 970, 2},
     { 972,10}, { 982, 5}, { 987,13}, {1000, 4}, {1004, 6} },
   { {1010, 2}, {1012, 6}, {1018, 6}, {1024, 4}, {1028, 4},
     {1032, 3}, {1035, 2}, {1037, 4}, {1041, 8}, {1049, 2},
     {1051, 2}, {1053, 2}, {1055, 2}, {1057, 2}, {1059, 2},
     {1061,13}, {1074, 2}, {1076,12}, {1088,14}, {1102,15} },
   { {1117, 2}, {1119, 2}, {1121, 2}, {1123, 2}, {1125, 8},
     {1133, 9}, {1142, 3}, {1145,12}, {1157, 4}, {1161, 5},
     {1166,11}, {1177,10}, {1187, 2}, {1189, 2}, {1191, 2},
     {1193, 2}, {1195, 2}, {1197,15}, {1212,13}, {1225, 8} },
   { {1233, 2}, {1235, 7}, {1242, 8}, {1250, 5}, {1255, 5},
     {1260, 6}, {1266, 8}, {1274, 2}, {1276, 6}, {1282,10},
     {1292, 9}, {1301, 2}, {1303, 2}, {1305, 2}, {1307, 2},
     {1309, 2}, {1311, 2}, {1313, 9}, {1322,16}, {1338,14} },
   { {1352, 2}, {1354, 2}, {1356, 9}, {1365, 6}, {1371, 5},
     {1376, 4}, {1380, 6}, {1386, 3}, {1389,14}, {1403, 9},
     {1412,11}, {1423,10}, {1433,13}, {1446, 2}, {1448, 2},
     {1450, 2}, {1452, 2}, {1454,13}, {1467, 2}, {1469,17} },
   { {1486, 2}, {1488, 8}, {1496, 8}, {1504, 6}, {1510, 4},
     {1514, 4}, {1518, 6}, {1524, 3}, {1527, 2}, {1529, 6},
     {1535, 7}, {1542, 5}, {1547, 2}, {1549, 2}, {1551, 2},
     {1553, 2}, {1555, 2}, {1557, 2}, {1559, 2}, {1561,16} },
   { {1577, 2}, {1579, 2}, {1581, 2}, {1583, 7}, {1590, 2},
     {1592, 8}, {1600, 4}, {1604, 6}, {1610, 3}, {1613,16},
     {1629,11}, {1640,13}, {1653,12}, {1665,15}, {1680, 9},
     {1689,13}, {1702, 2}, {1704, 2}, {1706, 2}, {1708, 2} },
   { {1710, 2}, {1712, 9}, {1721,10}, {1731, 6}, {1737,10},
     {1747, 8}, {1755, 4}, {1759, 6}, {1765,10}, {1775, 2},
     {1777, 8}, {1785, 4}, {1789,14}, {1803,13}, {1816,16},
     {1832, 2}, {1834, 2}, {1836, 2}, {1838, 2}, {1840, 2} },
   { {1842, 2}, {1844, 2}, {1846,11}, {1857, 2}, {1859, 6},
     {1865, 5}, {1870,11}, {1881, 4}, {1885,13}, {1898, 3},
     {1901,18}, {1919, 6}, {1925,15}, {1940, 8}, {1948,14},
     {1962,17}, {1979,16}, {1995, 2}, {1997, 2}, {1999, 2} }
  };


  U16 negYTravHeap[2001] =
  {
       0,    0,    1,    1,    2,    2,    3,    3,    4,    4,    5,    5,
       6,    6,    7,    7,    8,    8,    9,    9,   10,   10,   11,   11,
      12,   12,   13,   13,   14,   14,   15,   15,   16,   16,   17,   17,
      18,   18,   19,    0,   20,    0,   21,    1,   22,    2,   23,    3,
      24,   24,   25,    4,   25,   26,   26,   27,    5,   26,   27,   28,
      28,   29,    6,   27,   28,   29,   30,   30,   31,    7,   28,   29,
      30,   31,   32,   32,   33,    8,   29,   30,   31,   32,   33,   34,
      34,   35,    9,   30,   31,   32,   33,   34,   35,   36,   36,   37,
      10,   31,   32,   33,   34,   35,   36,   37,   38,   38,   39,   20,
      40,   20,   41,   21,   42,   22,   43,   23,   44,   23,   24,   45,
      23,   24,   25,   46,   23,   24,   25,   26,   47,   25,   26,   27,
      48,   48,   49,   25,   26,   27,   28,   49,   50,   25,   26,   27,
      28,   29,   50,   51,   27,   28,   29,   30,   51,   52,   52,   53,
      27,   28,   29,   30,   31,   52,   53,   54,   27,   28,   29,   30,
      31,   32,   53,   54,   55,   29,   30,   31,   32,   33,   54,   55,
      56,   56,   57,   29,   30,   31,   32,   33,   34,   55,   56,   57,
      58,   29,   30,   31,   32,   33,   34,   35,   56,   57,   58,   59,
      40,   60,   40,   61,   41,   62,   42,   63,   43,   64,   22,   23,
      44,   65,   45,   66,   45,   46,   67,   46,   47,   68,   46,   47,
      48,   69,   47,   48,   49,   70,   47,   48,   49,   50,   71,   49,
      50,   51,   72,   72,   73,   50,   51,   52,   73,   74,   50,   51,
      52,   53,   74,   75,   51,   52,   53,   54,   75,   76,   51,   52,
      53,   54,   55,   76,   77,   53,   54,   55,   56,   77,   78,   78,
      79,   60,   80,   60,   81,   61,   82,   62,   83,   63,   84,   64,
      85,   65,   86,   22,   23,   44,   45,   66,   87,   67,   88,   67,
      68,   89,   45,   46,   47,   68,   69,   90,   68,   69,   70,   91,
      69,   70,   71,   92,   46,   47,   48,   49,   70,   71,   72,   93,
      70,   71,   72,   73,   94,   71,   72,   73,   74,   95,   73,   74,
      75,   96,   96,   97,   49,   50,   51,   52,   73,   74,   75,   76,
      97,   98,   74,   75,   76,   77,   98,   99,   80,  100,   81,  101,
      61,   81,  102,   41,   61,   82,  103,   83,  104,   84,  105,   85,
     106,   86,  107,   87,  108,   22,   23,   44,   45,   66,   67,   88,
     109,   89,  110,   89,   90,  111,   90,   91,  112,   45,   46,   47,
      68,   69,   70,   91,   92,  113,   69,   70,   91,   92,   93,  114,
      92,   93,   94,  115,   93,   94,   95,  116,   70,   71,   72,   93,
      94,   95,   96,  117,   71,   72,   73,   94,   95,   96,   97,  118,
      95,   96,   97,   98,  119,  100,  120,   80,  101,  121,   61,   81,
     101,  122,  102,  123,  103,  124,  104,  125,  105,  126,  106,  127,
     107,  128,   65,   66,   87,  108,  129,   87,   88,  109,  130,   22,
      23,   44,   45,   66,   67,   88,   89,  110,  131,  111,  132,  111,
     112,  133,   67,   68,   69,   90,   91,  112,  113,  134,   90,   91,
      92,  113,  114,  135,   91,   92,   93,  114,  115,  136,  114,  115,
     116,  137,  115,  116,  117,  138,   69,   70,   71,   72,   93,   94,
      95,  116,  117,  118,  139,  120,  140,  121,  141,   61,   81,  101,
     121,  142,  102,  122,  143,   41,   61,   82,  102,  123,  144,  124,
     145,  125,  146,  126,  147,  127,  148,   43,   44,   65,   86,  107,
     128,  149,  129,  150,   65,   66,   87,   88,  109,  130,  151,  109,
     110,  131,  152,   22,   23,   44,   45,   66,   67,   88,   89,  110,
     111,  132,  153,  133,  154,  133,  134,  155,  134,  135,  156,  112,
     113,  114,  135,  136,  157,  113,  114,  115,  136,  137,  158,  136,
     137,  138,  159,  140,  160,  100,  121,  141,  161,  101,  121,  141,
     162,  122,  142,  163,  143,  164,  144,  165,  145,  166,  146,  167,
     147,  168,  148,  169,  149,  170,   86,   87,  108,  129,  150,  171,
      65,   66,   87,  108,  109,  130,  151,  172,  130,  131,  152,  173,
     109,  110,  131,  132,  153,  174,   22,   23,   44,   45,   66,   67,
      88,   89,  110,  111,  132,  133,  154,  175,  155,  176,  155,  156,
     177,   89,   90,   91,  112,  113,  134,  135,  156,  157,  178,   67,
      68,   69,   90,   91,  112,  113,  114,  135,  136,  157,  158,  179,
     160,  180,  161,  181,  162,  182,  122,  142,  162,  183,  143,  163,
     184,   41,   61,   82,  102,  123,  143,  164,  185,  103,  123,  144,
     165,  186,   62,   82,  103,  124,  145,  166,  187,  167,  188,  168,
     189,  169,  190,  170,  191,  171,  192,  129,  130,  151,  172,  193,
      65,   66,   87,   88,  109,  130,  131,  152,  173,  194,   87,   88,
     109,  110,  131,  152,  153,  174,  195,  131,  132,  153,  154,  175,
     196,   22,   23,   44,   45,   66,   67,   88,   89,  110,  111,  132,
     133,  154,  155,  176,  197,  177,  198,  177,  178,  199,  180,  200,
     120,  141,  161,  181,  201,  101,  121,  141,  161,  182,  202,  142,
     162,  182,  203,  102,  122,  142,  163,  183,  204,  184,  205,  144,
     164,  185,  206,  186,  207,  187,  208,  188,  209,  189,  210,  190,
     211,  191,  212,   43,   44,   65,   86,  107,  108,  129,  150,  171,
     192,  213,   86,   87,  108,  129,  130,  151,  172,  193,  214,   65,
      66,   87,  108,  109,  130,  151,  152,  173,  194,  215,  130,  131,
     152,  153,  174,  195,  216,   87,   88,  109,  110,  131,  132,  153,
     174,  175,  196,  217,  131,  132,  153,  154,  175,  176,  197,  218,
      22,   23,   44,   45,   66,   67,   88,   89,  110,  111,  132,  133,
     154,  155,  176,  177,  198,  219,  200,  220,  201,  221,  101,  121,
     141,  161,  181,  202,  222,  142,  162,  182,  202,  223,  163,  183,
     203,  224,  184,  204,  225,   41,   61,   82,  102,  123,  143,  164,
     184,  205,  226,  103,  123,  144,  164,  185,  206,  227,  124,  144,
     165,  186,  207,  228,  208,  229,  209,  230,  210,  231,  211,  232,
      64,   65,   86,  107,  128,  149,  170,  191,  212,  233,  213,  234,
      86,   87,  108,  129,  150,  151,  172,  193,  214,  235,  172,  173,
     194,  215,  236,   65,   66,   87,  108,  109,  130,  131,  152,  173,
     174,  195,  216,  237,  195,  196,  217,  238,  174,  175,  196,  197,
     218,  239,  220,  240,  140,  161,  181,  201,  221,  241,  141,  161,
     181,  201,  222,  242,  182,  202,  222,  243,  183,  203,  223,  244,
     204,  224,  245,  225,  246,  185,  205,  226,  247,  103,  123,  144,
     165,  185,  206,  227,  248,  228,  249,  229,  250,  230,  251,  231,
     252,  232,  253,  233,  254,   43,   44,   65,   86,  107,  128,  129,
     150,  171,  192,  213,  234,  255,  235,  256,   86,   87,  108,  129,
     130,  151,  172,  173,  194,  215,  236,  257,   65,   66,   87,  108,
     109,  130,  151,  152,  173,  194,  195,  216,  237,  258,   65,   66,
      87,   88,  109,  130,  131,  152,  173,  174,  195,  196,  217,  238,
     259,  240,  260,  241,  261,  242,  262,  243,  263,  122,  142,  162,
     182,  203,  223,  243,  264,  102,  122,  142,  163,  183,  203,  224,
     244,  265,  225,  245,  266,   41,   61,   82,  102,  123,  143,  164,
     184,  205,  225,  246,  267,  206,  226,  247,  268,  186,  206,  227,
     248,  269,   62,   82,  103,  124,  145,  165,  186,  207,  228,  249,
     270,   83,  103,  124,  145,  166,  187,  208,  229,  250,  271,  251,
     272,  252,  273,  253,  274,  254,  275,  255,  276,   43,   44,   65,
      86,  107,  108,  129,  150,  171,  172,  193,  214,  235,  256,  277,
      86,   87,  108,  129,  130,  151,  172,  193,  194,  215,  236,  257,
     278,  172,  173,  194,  215,  216,  237,  258,  279,  260,  280,  160,
     181,  201,  221,  241,  261,  281,  141,  161,  181,  201,  221,  242,
     262,  282,  202,  222,  242,  263,  283,  203,  223,  243,  263,  284,
     183,  203,  224,  244,  264,  285,  143,  163,  183,  204,  224,  245,
     265,  286,  266,  287,  185,  205,  226,  246,  267,  288,  103,  123,
     144,  164,  185,  206,  226,  247,  268,  289,  124,  144,  165,  186,
     206,  227,  248,  269,  290,  270,  291,  271,  292,  272,  293,  273,
     294,  274,  295,  275,  296,  149,  150,  171,  192,  213,  234,  255,
     276,  297,   43,   44,   65,   86,  107,  108,  129,  150,  171,  192,
     193,  214,  235,  256,  277,  298,   86,   87,  108,  129,  150,  151,
     172,  193,  214,  215,  236,  257,  278,  299,  280,  300,  281,  301,
     141,  161,  181,  201,  221,  241,  262,  282,  302,  202,  222,  242,
     262,  283,  303,  223,  243,  263,  283,  304,  244,  264,  284,  305,
     204,  224,  244,  265,  285,  306,  266,  286,  307,   41,   61,   82,
     102,  123,  143,  164,  184,  205,  225,  246,  266,  287,  308,  144,
     164,  185,  205,  226,  247,  267,  288,  309,  103,  123,  144,  165,
     185,  206,  227,  247,  268,  289,  310,  124,  144,  165,  186,  207,
     227,  248,  269,  290,  311,   62,   82,  103,  124,  145,  166,  186,
     207,  228,  249,  270,  291,  312,  292,  313,  293,  314,  294,  315,
     295,  316,   85,   86,  107,  128,  149,  170,  191,  212,  233,  254,
     275,  296,  317,  297,  318,   43,   44,   65,   86,  107,  128,  129,
     150,  171,  192,  193,  214,  235,  256,  277,  298,  319,  300,  320,
     180,  201,  221,  241,  261,  281,  301,  321,  181,  201,  221,  241,
     261,  282,  302,  322,  222,  242,  262,  282,  303,  323,  263,  283,
     303,  324,  264,  284,  304,  325,  224,  244,  264,  285,  305,  326,
     286,  306,  327,  307,  328,  226,  246,  267,  287,  308,  329,  206,
     226,  247,  267,  288,  309,  330,  248,  268,  289,  310,  331,  311,
     332,  312,  333,  313,  334,  314,  335,  315,  336,  316,  337,  317,
     338,   64,   65,   86,  107,  128,  149,  170,  171,  192,  213,  234,
     255,  276,  297,  318,  339,  320,  340,  321,  341,  322,  342,  222,
     242,  262,  282,  302,  323,  343,  324,  344,  203,  223,  243,  264, 
     284,  304,  324,  345,  285,  305,  325,  346,  245,  265,  285,  306, 
     326,  347,  307,  327,  348,   41,   61,   82,  102,  123,  143,  164, 
     184,  205,  225,  246,  266,  287,  307,  328,  349,  144,  164,  185, 
     205,  226,  246,  267,  288,  308,  329,  350,  103,  123,  144,  165, 
     185,  206,  226,  247,  268,  288,  309,  330,  351,  124,  144,  165, 
     186,  206,  227,  248,  268,  289,  310,  331,  352,   62,   82,  103, 
     124,  145,  165,  186,  207,  228,  248,  269,  290,  311,  332,  353, 
     187,  207,  228,  249,  270,  291,  312,  333,  354,  104,  124,  145, 
     166,  187,  208,  229,  250,  271,  292,  313,  334,  355,  335,  356, 
     336,  357,  337,  358,  338,  359,  340,  360,  200,  221,  241,  261, 
     281,  301,  321,  341,  361,  181,  201,  221,  241,  261,  281,  302, 
     322,  342,  362,  262,  282,  302,  322,  343,  363,  182,  202,  222, 
     242,  263,  283,  303,  323,  344,  364,  223,  243,  263,  284,  304, 
     324,  344,  365,  305,  325,  345,  366,  265,  285,  305,  326,  346, 
     367,  184,  204,  224,  245,  265,  286,  306,  327,  347,  368,  348, 
     369,  226,  246,  267,  287,  308,  328,  349,  370,  309,  329,  350, 
     371,  103,  123,  144,  165,  185,  206,  227,  247,  268,  289,  309, 
     330,  351,  372,  124,  144,  165,  186,  206,  227,  248,  269,  289, 
     310,  331,  352,  373,   62,   82,  103,  124,  145,  165,  186,  207, 
     228,  249,  269,  290,  311,  332,  353,  374,  354,  375,  355,  376, 
     356,  377,  357,  378,  358,  379,  360,  380,  361,  381,  181,  201, 
     221,  241,  261,  281,  301,  322,  342,  362,  382,  363,  383,  283, 
     303,  323,  343,  364,  384,  304,  324,  344,  364,  385,  183,  203, 
     223,  243,  264,  284,  304,  325,  345,  365,  386,  326,  346,  366, 
     387,  143,  163,  183,  204,  224,  245,  265,  285,  306,  326,  347, 
     367,  388,  348,  368,  389,   41,   61,   82,  102,  123,  143,  164, 
     184,  205,  225,  246,  266,  287,  307,  328,  348,  369,  390,  288, 
     308,  329,  349,  370,  391,  103,  123,  144,  164,  185,  206,  226, 
     247,  268,  288,  309,  329,  350,  371,  392,  248,  268,  289,  310, 
     330,  351,  372,  393,  124,  144,  165,  186,  207,  227,  248,  269, 
     290,  310,  331,  352,  373,  394,   62,   82,  103,  124,  145,  166, 
     186,  207,  228,  249,  269,  290,  311,  332,  353,  374,  395,   83, 
     103,  124,  145,  166,  187,  208,  228,  249,  270,  291,  312,  333, 
     354,  375,  396,  376,  397,  377,  398,  378,  399
  };

}
